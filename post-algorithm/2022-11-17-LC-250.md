---
slug: 2022-11-17-LC-250
title: LC#250 (Count Univalue Subtrees)
author: Sanghun lee
summary: LC#250 (Count Univalue Subtrees)
date: 2022-11-17 11:33:00 +0800
categories: [LeetCode, BinaryTree, DFS]
folder: [post-algorithm]
tags: [Algorithm]
math: true
mermaid: true
image:
  src: https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/LeetCode_Logo_black_with_text.svg/640px-LeetCode_Logo_black_with_text.svg.png
  width: 850
  height: 585
---

# ë¬¸ì œ

Given the root of a binary tree, return the number of uni-value subtrees.

A uni-value subtree means all nodes of the subtree have the same value.

Example 1

```md
Input: root = [5,1,5,5,5,null,5]
Output: 4
```

Example 2

```md
Input: root = []
Output: 0
```

Example 3

```md
Input: root = [5,5,5,5,5,null,5]
Output: 6
```

Constraints:

The number of the node in the tree will be in the range [0, 1000].
-1000 <= Node.val <= 1000

# í’€ì´

uni value sub treeë¼ëŠ”ê±¸ ì´í•´í•˜ê¸° ê¹Œì§€ ì‹œê°„ì´ ê½¤ ê±¸ë ¸ê³  ë‹µë‹µí•´ì„œ ê·¸ëƒ¥ ë‹µì„ ë´ë²„ë¦° ë¬¸ì œì´ë‹¤.
ë¬¸ì œê°€ ì´í•´ê°€ ì•ˆê°€ë‹ˆ ì ‘ê·¼ì´ ì•ˆë˜ì—ˆë‹¤ ğŸ‘€..

ì¼ë‹¨ ë¬¸ì œë¥¼ ì‰½ê²Œ ì´í•´í•˜ë ¤ë©´ ëª¨ë“  í•˜ìœ„íŠ¸ë¦¬ë¥¼ ì„œë¸ŒíŠ¸ë¦¬ë¼ê³  ìƒê°í•˜ê³  ê°’ì´ ì„œë¡œ ë™ì¼í•œ ê²½ìš° ì¹´ìš´íŠ¸ë¥¼ ì˜¬ë¦°ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.

1. ë…¸ë“œì— ìì‹ì´ ì—†ëŠ”ê²½ìš°
2. ë…¸ë“œì˜ ìì‹ì€ uni value subtreeê°€ ë˜ë ¤ë©´ ë…¸ë“œì™€ í•´ë‹¹ ìì‹ì€ ëª¨ë‘ ë™ì¼í•œ ê°’ì„ ê°€ì§€ê²Œ ëœë‹¤.

ê·¸ë˜ì„œ ì˜ˆì œ 1ì˜ ê°’ì€ 1ë•Œë¬¸ì— 4ê°€ ë˜ê³ 
ì˜ˆì œ 2ì˜ ê°’ì€ ë£¨íŠ¸ 5ì™€ ì¢Œìš° ì„œë¸ŒíŠ¸ë¦¬ì˜ ê°’ì´ 5ê°€ ë˜ì–´ ë£¨íŠ¸ë˜í•œ univalueì— í¬í•¨ì´ ë˜ì–´ ì¹´ìš´íŠ¸ê°€ 6ê¹Œì§€ ì˜¬ë¼ê°€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

ê·¸ë˜ì„œ ìœ„ì˜ ì¡°ê±´ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

```javascript
//Bottom-up manner

var countUnivalSubtrees = function (root) {
  if (!root) return 0;
  let count = 0;

  const isUni = (node) => {
    //ì œì¼ ë§ˆì§€ë§‰ì— ë„ë‹¬í•œ ê²½ìš°(ë¦¬í”„ë…¸ë“œì¸ ê²½ìš° ìì‹ ë…¸ë“œê°€ ì—†ìœ¼ë¯€ë¡œ ë¬´ì¡°ê±´ ì¹´ìš´íŠ¸ê°€ ì˜¬ë¼ ê°ˆ ê²ƒì´ë‹¤.)
    if (!node.left && !node.right) {
      count++;
      return true;
    }

    let isUnival = true;

    // univalue subtrees ì¸ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•¨.
    if (node.left) {
      isUnival = isUni(node.left) && isUnival && node.left.val === node.val;
    }

    if (node.right) {
      isUnival = isUni(node.right) && isUnival && node.right.val === node.val;
    }

    // isUnivalì˜ ë³€ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ì¢Œ ìš° ê°’ì´ ëª¨ë‘ ë˜‘ê°™ì€ ê²½ìš° ë˜ëŠ” í•˜ë‚˜ì˜ ê°’ì´ë¼ë„ í˜„ì¬ ë…¸ë“œì™€ ê°™ì€ ê²½ìš° ì¹´ìš´íŠ¸ë¡¤ ì˜¬ë ¤ì£¼ê³  trueë°˜í™˜
    if (!isUnival) return false;
    count++;
    return true;
  };

  isUni(root);

  return count;
};
```

## ë‹¤ë¥¸í’€ì´

ë¶€ëª¨ê°’ì„ ê³„ì† ë„˜ê²¨ì£¼ë©° íŒë‹¨í•˜ëŠ” ë°©ì‹ì´ë‹¤.
ì²«ë²ˆì§¸ê°€ bottom-upì´ë¼ë©´ êµ³ì´ ë”°ì§€ìë©´ ì´ê±´ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë‚´ë ¤ê°€ëŠ” ë°©ì‹ì´ë‹¤.

```javascript
/**
 * Definition for a binary tree node.
 * function TreeNode(val, left, right) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.left = (left===undefined ? null : left)
 *     this.right = (right===undefined ? null : right)
 * }
 */
/**
 * @param {TreeNode} root
 * @return {number}
 */
var countUnivalSubtrees = function (root) {
  let count = 0;

  const isValidPart = (node, val) => {
    //base case
    if (!node) return true;
    const isLeftValid = isValidPart(node.left, node.val),
      isRightValid = isValidPart(node.right, node.val);

    if (!isLeftValid || !isRightValid) return false;

    //ìœ íš¨í•œ ê²½ìš° ì¹´ìš´íŠ¸ë¥¼ ì˜¬ë ¤ì£¼ê³  ì„œë¸ŒíŠ¸ë¦¬ê°€ í˜„ì¬ì˜ ë…¸ë“œê°’ê³¼ ìœ íš¨í•œ univalueë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ ë°˜í™˜
    count += 1;
    return node.val === val;
  };
  //ë²”ìœ„ê°€ 0ë¶€í„°ì´ë¯€ë¡œ ê·¸ëƒ¥ 0 ì„ ë„£ì–´ì£¼ì
  isValidPart(root, 0);
  return count;
};
```

# 2. ê²°ë¡ 

ì•„ë¬´ë¦¬ í•´ë„ ì´ëŸ° ì ‘ê·¼ì€ ìƒìƒì´ ì•ˆë˜ëŠ”ë° ì–´ì°Œí•´ì•¼í• ì§€ ë‚œê°í•˜ë‹¤.. ì¬ê·€ë¥¼ ì¡°ê±´ìœ¼ë¡œ í™œìš©í•˜ëŠ” ë°©ë²•ë„ ê¼­ ìƒê°í•˜ì

## ì°¸ê³ 

- [LeetCode - 250. Count Univalue Subtrees](https://leetcode.com/problems/count-univalue-subtrees/submissions/845089136/)
